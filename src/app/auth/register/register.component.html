<div class="register-container">
  <!-- Decorative shapes -->
  <div class="shape shape-1"></div>
  <div class="shape shape-2"></div>
  <div class="shape shape-3"></div>
  
  <div class="register-box">
    <div class="register-icon">
      <div class="register-icon-circle">👤</div>
    </div>
    <h2 class="register-title">Create Your Account</h2>
    <p class="register-subtitle">Join our community today</p>

    <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
      <div class="name-fields">
        <div class="input-group">
          <label for="firstName">First Name</label>
          <input type="text" id="firstName" formControlName="firstName" placeholder="First Name">
          <small *ngIf="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched">First Name is required</small>
        </div>

        <div class="input-group">
          <label for="lastName">Last Name</label>
          <input type="text" id="lastName" formControlName="lastName" placeholder="Last Name">
          <small *ngIf="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched">Last Name is required</small>
        </div>
      </div>

      <div class="input-group">
        <label for="contact">Contact Number</label>
        <input type="text" id="contact" formControlName="contact" placeholder="Enter your contact number">
        <small *ngIf="registerForm.get('contact')?.invalid && registerForm.get('contact')?.touched">Valid contact number is required</small>
      </div>

      <div class="input-group">
        <label for="email">Email</label>
        <input type="email" id="email" formControlName="email" placeholder="Enter your email">
        <small *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">Valid email is required</small>
      </div>

      <div class="input-group">
        <label for="username">Username</label>
        <input type="text" id="username" formControlName="username" placeholder="Enter your username">
        <small *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched">Username is required</small>
      </div>

      <div class="input-group password-group">
        <label for="password">Password</label>
        <div class="password-wrapper">
          <input [type]="showPassword ? 'text' : 'password'" id="password" formControlName="password" placeholder="Enter your password">
          <span class="toggle-eye" (click)="togglePasswordVisibility()">
            {{ showPassword ? '🙈' : '👁️' }}
          </span>
        </div>
        <small *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched">
          Password must be at least 6 characters
        </small>
      </div>

      <div class="input-group password-group">
        <label for="confirmPassword">Confirm Password</label>
        <div class="password-wrapper">
          <input [type]="showConfirmPassword ? 'text' : 'password'" id="confirmPassword" formControlName="confirmPassword" placeholder="Confirm your password">
          <span class="toggle-eye" (click)="toggleConfirmPasswordVisibility()">
            {{ showConfirmPassword ? '🙈' : '👁️' }}
          </span>
        </div>
        <small *ngIf="registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched">
          Passwords must match
        </small>
      </div>
      

      <p *ngIf="errorMessage" class="error-message">{{ errorMessage }}</p>

      <button class="register-btn" type="submit" [disabled]="registerForm.invalid || isSubmitting">Sign Up</button>
    </form>

    <p class="login-text">
      Already have an account? <a href="/login">Login</a>
    </p>
  </div>
</div>
