<div class="container">
  <div class="category-management">
    <h2>Manage Categories</h2>
    <p class="subtitle">Create, edit, and organize your content categories</p>

    <!-- Messages -->
    <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
    <div *ngIf="successMessage" class="alert alert-success">{{ successMessage }}</div>

    <div class="card">
      <div class="add-category">
        <h3>Add New Category</h3>

        <div class="form-group">
          <label for="categoryName">Category Name:</label>
          <input
            type="text"
            id="categoryName"
            [(ngModel)]="newCategory.name"
            placeholder="Enter category name"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="categoryDescription">Description:</label>
          <textarea
            id="categoryDescription"
            [(ngModel)]="newCategory.description"
            placeholder="Enter category description"
            class="form-control"
          ></textarea>
        </div>

        <button (click)="addCategory()" class="btn btn-primary">Add Category</button>
      </div>

      <div class="existing-categories">
        <h3>Existing Categories</h3>

        <div *ngIf="categories.length === 0" class="no-categories">
          No categories found. Add your first category!
        </div>

        <div class="categories-list">
          <div *ngFor="let category of categories" class="category-item">
            <div class="category-info">
              <h4>{{ category.name }}</h4>
              <p>{{ category.description }}</p>
            </div>

            <div class="category-actions">
              <button (click)="startEdit(category)" class="btn btn-edit">Edit</button>
              <button (click)="deleteCategory(category.categoryID)" class="btn btn-delete">Delete</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="action-buttons">
      <a routerLink="/dashboard" class="btn btn-secondary">Back to Dashboard</a>
    </div>

    <!-- Edit Category Section -->
    <div *ngIf="showEditSection" class="edit-category-section">
      <div class="edit-category-card">
        <h3>Edit Category</h3>

        <div class="form-group">
          <label for="editCategoryName">Category Name:</label>
          <input
            type="text"
            id="editCategoryName"
            [(ngModel)]="editingCategory.name"
            class="form-control"
          />
        </div>

        <div class="form-group">
          <label for="editCategoryDescription">Description:</label>
          <textarea
            id="editCategoryDescription"
            [(ngModel)]="editingCategory.description"
            class="form-control"
          ></textarea>
        </div>

        <div class="edit-actions">
          <button (click)="updateCategory()" class="btn btn-primary">Save Changes</button>
          <button (click)="cancelEdit()" class="btn btn-secondary">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>